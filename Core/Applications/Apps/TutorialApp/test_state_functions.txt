# test_state_functions.txt - Test DSL for GlobalStateManager state changes and conditionals

:start
# Test 1: Setting runtime state
cmd message tutorial Test 1: Setting runtime state
set_runtime test_key test_value
cmd message tutorial Set test_key to test_value
wait_input space

# Test 2: Setting persistent state
cmd message tutorial Test 2: Setting persistent state
set_persistent score 100
cmd message tutorial Set score to 100
wait_input space

# Test 3: Conditional based on set value
cmd message tutorial Test 3: Checking if condition
set_runtime current_choice 1
if GlobalStateManager.runtime_state["tutorial"]["current_choice"] == 1 -> choice_is_one
cmd message tutorial Choice is NOT 1
jump after_choice_test

:choice_is_one
cmd message tutorial Choice IS 1!

:after_choice_test
wait_input space

:end
cmd message tutorial All tests completed!
wait_time 1.0
